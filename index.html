<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Cementerio</title>

    <!-- Bootstrap opcional (grids y helpers) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- CSS propio -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- ========== LOGIN ========== -->
    <main id="loginView" class="login-page">
        <div class="login-card">
            <h1 class="login-title">Sistema de Administración de Cementerio</h1>
            <p class="login-subtitle">Ingrese con sus credenciales para continuar</p>

            <form id="loginForm" autocomplete="off">
                <div class="mb-3">
                    <label for="emailInput" class="form-label">Correo electrónico</label>
                    <input type="email" id="emailInput" class="form-control" placeholder="usuario@ucr.com">
                </div>

                <div class="mb-3">
                    <label for="passwordInput" class="form-label">Contraseña</label>
                    <input type="password" id="passwordInput" class="form-control" placeholder="••••••••">
                </div>

                <div id="loginError" class="login-error d-none"></div>

                <button type="submit" class="btn btn-login w-100 mt-2">
                    Iniciar sesión
                </button>
            </form>

            <div class="login-demo mt-3">
                <p><strong>Admin:</strong> admin@ucr.com / admin123</p>
                <p><strong>Cliente:</strong> cliente@ucr.com / cliente123</p>
            </div>
        </div>
    </main>

    <!-- ========== APLICACIÓN ========== -->
    <div id="appShell" class="d-none">

        <!-- NAVBAR -->
        <nav class="cemetery-navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <img src="img/cross.png" alt="Logo Cementerio">
                    <span>Sistema de Administración del Cementerio</span>
                </div>

                <ul class="nav-links">
                    <!-- data-roles indica quién lo ve -->
                    <li data-roles="admin,cliente">
                        <a href="#" class="active" data-route="dashboard">Inicio</a>
                    </li>
                    <li data-roles="admin,cliente">
                        <a href="#" data-route="lotes">Lotes</a>
                    </li>
                    <li data-roles="admin">
                        <a href="#" data-route="difuntos">Difuntos</a>
                    </li>
                    <li data-roles="admin">
                        <a href="#" data-route="familiares">Familiares</a>
                    </li>
                    <li data-roles="admin,cliente">
                        <a href="#" data-route="pagos">Pagos</a>
                    </li>
                    <li data-roles="admin">
                        <a href="#" data-route="contratos">Contratos</a>
                    </li>
                    <li data-roles="admin">
                        <a href="#" data-route="reportes">Reportes</a>
                    </li>
                    <li data-roles="admin,cliente">
                        <a href="#" data-route="sobre">Sobre nosotros</a>
                    </li>
                </ul>

                <button id="logoutBtn" class="btn-logout d-none">
                    Cerrar sesión
                </button>
            </div>
        </nav>

        <!-- CONTENIDO PRINCIPAL -->
        <main class="dashboard-page">
            <div class="container">

                <!-- Encabezado global (título módulo + rol) -->
                <div class="d-flex justify-content-between align-items-center mt-3 mb-3 flex-wrap gap-2">
                    <h2 id="dashboardTitle" class="module-title mb-0">
                        Resumen general
                    </h2>

                    <div class="dashboard-role-pill">
                        <span class="dot"></span>
                        <span class="text">
                            Sesión como <strong id="userRoleText">Usuario</strong>
                        </span>
                    </div>
                </div>

                <!-- AQUÍ SE CARGAN LOS MÓDULOS -->
                <div id="mainContainer"></div>

            </div>
        </main>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- JS propio -->
    <script src="js/main.js"></script>
</body>
</html>
